= Spring PetClinic Sample Application: additional examples on Layered, Hexagonal and DDD (Clean/Onion)

== Origin

Derived from link:https://github.com/spring-projects/spring-petclinic[Spring PetClinic Sample Application]

== Objectives

* not to muddle with the original repo
* not intend to provide a silver bullet
* not to provide "production ready" code
* not intend to demostrates how to write tests
* minimal maintenance effort

== Major changes compared to original

* removed gradle
* removed check style
* removed all tests
* removed all Active Record style codes
* removed all Hibernate Inheritance Mapping
* chnaged all fetching strategies to LAZY
* removed all cascade strategies
* removed uses of `WebDataBinder`, `Validator`, and `@ModelAttribute` annotation at method level
* reorganised packages
* applied PRG pattern
* added some basic error messages
* added archiecture tests

== How to use

* download the repo
* compare the projects with a diff tool

== Project Structures

[cols="2,1,1,4", width="100%", options="header"]
|===

|Project
|Separation of Concern
|Dependency
|Summary

|link:spring-petclinic-org[]
|No
a|
* Presentation -> Model -> Dao
* Presentation -> Dao
* Model <- Dao

|Original before fork

|link:spring-petclinic-layered[]
|Some
a|
* Presentation -> Service -> Dao
* Service -> Domain
* Domain -> Dao
* Domain <- Dao
|Layered Architecture Example 

Rewritten from Orginal to usually how people approach traditional Layered Architecture. This is not the only form of traditional Layered Architecture.

|link:spring-petclinic-hex[]
|Yes
|Driving -> Application <- Driven
a|Hexagonal Architecture Example

Rewritten from Layered Architecture Example

|link:spring-petclinic-ddd[]
|Yes
|User Interface -> [Application -> Domain] <- Infrastructure
|DDD Architecture (Clean/Onion) Example

Rewritten from Layered Architecture Example 

|===

== Layering

[cols="1,1,1,1,1,1", width="100%", options="header"]
|===

|Type
4+|Layers
|Remarks

|Original
4+|Kind of Vertically sliced
|

|Layered
|Presentation
|Service
|Model
|Data Access
.3+|In some sense, these are very similar concept with slightly different focus

|Hexagonal
|Driving
2+|Application
|Driven

|DDD
|User Interface
|Application Service
|Domain
|Infrastructure

|===


[Notes]
====
* In DDD, everything in a `domain` package, including sub packages, together is a Domain Model. An object like the `Pet` object alone is NOT the Domain Model but a domain object inside a Domain Model
====
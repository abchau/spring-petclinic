= Examples based on Spring PetClinic Sample Application

== Origin

Derived from link:https://github.com/spring-projects/spring-petclinic[Spring PetClinic Sample Application]

== Philosophy

* not intend to merge any changes here back to the original repo
* not intend to demostrates how to write tests
* not intend to provide a silver bullet
* only to provide examples on different ways of doing things so people can explore which strategy to choose under different context
* not changing databases, SQL, HTML, CSS, etc
* not introducing new library like lombok
* all example projects should behave the same (except original)
* minimize future maintenance effort
* commit history can be completely ignored. Only the latest version is relevant

== Baseline changes compared to original code

* removed gradle
* removed all tests as original tests are no longer relevant
* removed all Active Record style codes
* removed all check style
* removed all Hibernate Inheritance Mapping to reduce distraction
* chnaged all fetching strategies to LAZY
* removed all cascade strategies
* removed uses of `WebDataBinder`, `Validator`, and `@ModelAttribute` annotation at method level
* applied PRG pattern
* applied basic error messages
* applied packages to apply some level of layering
* applied Spring Data Repository for each jpa entity

== How to use

* download the repo
* compare them

== Project Structures

[cols="2,4,1,1,1,1,1", width="100%"]
|===

.2+h|Project
.2+h|Summary
3+h|Separation of Concern
2+h|dependency inversion

h|input model
h|domain model
h|output model
h|input
h|output

|link:spring-petclinic-org[]
|Original state before fork
|
|
|
|
|

|link:spring-petclinic-3tier[]
|Baseline traditional 3-tier example
|
|
|
|Y
|

|link:spring-petclinic-ddd[]
|DDD example
|Y
|Y
|Y
|Y
|Y

|link:spring-petclinic-hex[]
a|Hexagonal example

|Y
|Y
|Y
|Y
|Y

|===

[Notes]
====
* Everything in a domain package, including sub packages, together is a domain model. A object like the `Pet` object alone is NOT the Domain Model but an object inside a Domain Model
* An aggregate is a state machine that the only kind of behaviours allowed in an aggregate is altering it's own internal state
====